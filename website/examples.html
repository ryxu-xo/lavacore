<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>lava.ts — Examples</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;600;700&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="styles.css" />
  <style>
    :root { color-scheme: dark; }
    html { scroll-behavior: smooth; }
    .glass { backdrop-filter: saturate(120%) blur(10px); background: rgba(20, 24, 38, 0.6); border: 1px solid rgba(255,255,255,0.06); }
  </style>
</head>
<body class="bg-[#0b0f1a] text-white antialiased">
  <header class="sticky top-0 z-50">
    <div class="mx-auto max-w-7xl px-6 py-4 flex items-center justify-between glass">
      <div class="flex items-center gap-3">
        <div class="w-8 h-8 bg-brand-500 rounded-md"></div>
        <span class="font-semibold">lava.ts Examples</span>
      </div>
      <nav class="flex items-center gap-6 text-sm">
        <a href="landing.html" class="opacity-80 hover:opacity-100 transition">Home</a>
        <a href="documentation.html" class="opacity-80 hover:opacity-100 transition">Docs</a>
        <a href="https://github.com/ryxu-xo/lava.ts" target="_blank" class="opacity-80 hover:opacity-100 transition">GitHub</a>
      </nav>
    </div>
  </header>

  <main class="mx-auto max-w-7xl px-6 py-10 space-y-10">
    <section class="glass rounded-xl p-6">
      <div class="section-title">
        <span class="badge">Basics</span>
        <h2 class="text-xl font-semibold">Manager Initialization</h2>
      </div>
      <pre class="mt-3 code text-sm"><code>import { Manager } from 'lava.ts'
const manager = new Manager({
  nodes: [{ host: 'localhost', port: 2333, password: 'youshallnotpass' }],
  debug: true,
  autoPlay: true,
})
manager.on('nodeReady', (n) => console.log('Connected:', n.id))
manager.init()</code></pre>
    </section>

    <section class="glass rounded-xl p-6">
      <div class="section-title">
        <span class="badge">Discord.js</span>
        <h2 class="text-xl font-semibold">Plain JS Bot</h2>
      </div>
      <pre class="mt-3 code text-sm overflow-x-auto"><code>const { Client, GatewayIntentBits } = require('discord.js')
const { Manager } = require('lava.ts')

const client = new Client({ intents: [
  GatewayIntentBits.Guilds,
  GatewayIntentBits.GuildVoiceStates,
  GatewayIntentBits.GuildMessages,
  GatewayIntentBits.MessageContent,
] })

const manager = new Manager({
  nodes: [{ host: 'localhost', port: 2333, password: 'youshallnotpass' }],
  debug: true,
  autoPlay: true,
})

manager.on('nodeReady', (n) => console.log('Connected:', n.id))
manager.on('trackStart', (p, t) => console.log('Now playing:', t.info.title))

client.on('ready', () => console.log('Bot ready as', client.user.tag))

client.on('raw', (packet) => {
  if (!manager.isInitialized()) return
  manager.sendRawPacket(packet)
})

client.on('messageCreate', async (msg) => {
  if (!msg.content.startsWith('!play')) return
  const query = msg.content.replace('!play', '').trim()
  const vc = msg.member.voice.channel
  if (!vc) return msg.reply('Join a voice channel first')
  const player = manager.create(msg.guild.id, vc.id, msg.channel.id)
  const [track] = await player.search(query)
  if (!track) return msg.reply('No results')
  player.add(track)
  if (!player.playing) player.play()
  msg.reply(`Queued: ${track.info.title}`)
})

client.login(process.env.DISCORD_TOKEN)</code></pre>
    </section>

    <section class="glass rounded-xl p-6">
      <div class="section-title">
        <span class="badge">Queue</span>
        <h2 class="text-xl font-semibold">Queue Operations</h2>
      </div>
      <pre class="mt-3 code text-sm"><code>// Assuming you have a player
player.add(track)
player.shuffle()
player.skip()
player.previous()
player.clear()</code></pre>
    </section>

    <section class="glass rounded-xl p-6">
      <div class="section-title">
        <span class="badge">Filters</span>
        <h2 class="text-xl font-semibold">Applying Filters</h2>
      </div>
      <pre class="mt-3 code text-sm"><code>import { FilterBuilder } from 'lava.ts'
const fb = new FilterBuilder()
  .timescale({ speed: 1.1 })
  .karaoke({ level: 1.0 })
player.setFilters(fb.build())</code></pre>
    </section>

    <section class="glass rounded-xl p-6">
      <div class="section-title">
        <span class="badge">AutoPlay</span>
        <h2 class="text-xl font-semibold">Intelligent Recommendations</h2>
      </div>
      <pre class="mt-3 code text-sm"><code>manager = new Manager({ autoPlay: true, ... })
// After track end and empty queue, AutoPlay will enqueue a similar track.
player.on('queueEnd', () => console.log('Queue ended, AutoPlay may add a track'))</code></pre>
    </section>

    <section class="glass rounded-xl p-6">
      <div class="section-title">
        <span class="badge">Voice</span>
        <h2 class="text-xl font-semibold">Voice Forwarding</h2>
      </div>
      <pre class="mt-3 code text-sm"><code>client.on('raw', (packet) => {
  if (!manager.isInitialized()) return
  manager.sendRawPacket(packet)
})</code></pre>
    </section>
  </main>

  <footer class="mx-auto max-w-7xl px-6 pb-10">
    <div class="flex items-center justify-between opacity-70 text-sm">
      <div>© 2025 lava.ts • Examples</div>
      <div class="flex gap-4">
        <a href="landing.html" class="hover:opacity-100">Home</a>
        <a href="documentation.html" class="hover:opacity-100">Docs</a>
      </div>
    </div>
  </footer>
</body>
</html>
